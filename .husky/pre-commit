#!/usr/bin/env bash
set -e

echo "ğŸ” Running pre-commit checks..."

# Set environment variable so audits know they're running in pre-commit
export HUSKY=1

# Run core audits (fast fail) - these are blocking and must pass
# Advisory audits (like size-complexity) run in CI where they're more appropriate
pnpm audits:light || exit 1

# Run lint-staged
pnpm lint-staged || exit 1

echo "âœ… Pre-commit checks passed!"

