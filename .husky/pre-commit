#!/usr/bin/env bash
set -e

echo "ğŸ” Running pre-commit checks..."

# Set environment variable so audits know they're running in pre-commit
export HUSKY=1

# Run lightweight audits (fast fail) - skip size audit in pre-commit (too noisy)
# Size audit runs in CI where it's more appropriate
pnpm audit:boundaries && pnpm audit:ssr && pnpm audit:types && pnpm audit:dead || exit 1

# Run lint-staged
pnpm lint-staged || exit 1

echo "âœ… Pre-commit checks passed!"

