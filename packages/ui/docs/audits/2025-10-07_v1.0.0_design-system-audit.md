# Design System Audit - UI Package Components

**Date:** 2024
**Status:** üî¥ Issues Found - Needs Updates

## Summary

This document audits all components in the UI package against our design system guidelines. Components are checked for:

- ‚úÖ No movement animations (no transforms, position changes)
- ‚úÖ Fast transitions (0.15s for colors/borders only)
- ‚úÖ Static shadows (no shadow changes on hover)
- ‚úÖ Professional color palette
- ‚úÖ Consistent spacing (8px grid)
- ‚úÖ Proper border radius (8px, 12px, 16px, 20px)

---

## Components Audit

### ‚ùå **PlaybackControls** (`controls/PlaybackControls.styles.ts`)

**Issues:**

1. ‚ùå **Slow transition**: `transition: "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"` (line 23)
   - Should be: `transition: "background-color 0.15s ease"`
2. ‚ùå **Transform animation**: Uses `transform: "translateY(-50%)"` for divider (line 47)
   - Acceptable for positioning, but should avoid hover transforms

**Recommendation:**

```typescript
transition: "background-color 0.15s ease, color 0.15s ease",
```

---

### ‚ùå **ViewModeControls** (`controls/ViewModeControls.styles.ts`)

**Issues:**

1. ‚ùå **Slow transition**: `transition: "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"` (line 38)
   - Should be: `transition: "background-color 0.15s ease, color 0.15s ease"`
2. ‚ùå **Slow section transition**: `transition: "opacity 0.3s ease, filter 0.3s ease"` (line 19)
   - Acceptable for opacity/filter, but could be faster: `0.15s ease`

**Recommendation:**

```typescript
// For buttons
transition: "background-color 0.15s ease, color 0.15s ease",

// For section
transition: "opacity 0.15s ease, filter 0.15s ease",
```

---

### ‚ùå **CreateProjectCard** (`Dashboard/CreateProjectCard.tsx`)

**Issues:**

1. ‚ùå **Slow transition**: `transition: "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"` (line 39)
   - Should be specific properties with 0.15s
2. ‚ùå **Shadow animation on hover**: Changes from one shadow to another (lines 38, 41)
   - Should keep shadow static
3. ‚ùå **Transform animation**: `transform: "scale(0.95)"` and `scale(1)` on `::before` (lines 60, 67)
   - Should remove scale transforms completely
4. ‚ùå **Slow inner transition**: `transition: "all 0.3s ease"` on icon box (line 92)
   - Not needed, remove entirely

**Recommendation:**

```typescript
sx={{
  // ... other styles
  boxShadow: "0 8px 32px rgba(37, 99, 235, 0.15)", // Static shadow
  transition: "background-color 0.15s ease, border-color 0.15s ease",
  "&:hover": {
    background: "rgba(37, 99, 235, 0.08)",
    // Remove boxShadow change
  },
  "&::before": {
    // ... other styles
    opacity: 0,
    // Remove transform
    transition: "opacity 0.15s ease",
  },
  "&:hover::before": {
    opacity: 1,
    // Remove transform
  },
}}
```

---

### ‚ö†Ô∏è **InfoBox** (`Dashboard/InfoBox.tsx`)

**Issues:**

1. ‚ö†Ô∏è **Height animation**: `maxHeight` transition (line 16)
   - This causes content movement, acceptable for expand/collapse but should be fast
2. ‚ùå **Slow transition**: `transition: "max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease"` (lines 25-26)
   - Should be faster: `0.2s` max for expand/collapse

**Recommendation:**

```typescript
transition: "max-height 0.2s ease, opacity 0.2s ease",
```

**Note:** Height transitions are generally avoided, but for expand/collapse they're acceptable. Keep them fast.

---

### ‚úÖ **ProjectCard** (`Dashboard/ProjectCard.tsx`)

**Status:** ‚úÖ **COMPLIANT**

- Uses underline animation only (acceptable exception)
- No transforms or movement
- Static shadows
- Good transition: `"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"`
  - Note: Could be more specific and faster, but acceptable

**Minor Improvement:**

```typescript
transition: "background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease",
```

---

### ‚úÖ **DeleteConfirmationDialog** (`Dashboard/DeleteConfirmationDialog.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed, needs verification)

Dialogs typically use MUI defaults which are acceptable for modals.

---

### ‚úÖ **HelpPopup** (`Dashboard/HelpPopup.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed, needs verification)

Dialogs typically use MUI defaults which are acceptable for modals.

---

### ‚úÖ **OptionsMenu** (`Dashboard/OptionsMenu.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed, needs verification)

Menus use MUI defaults which are acceptable for dropdowns.

---

### ‚úÖ **BasemapSelector** (`Environment/BasemapSelector.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed from recent updates)

Recently updated to follow design system.

---

### ‚úÖ **LocationSearch** (`LocationSearch/LocationSearch.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed, needs verification)

Search inputs typically follow MUI input patterns.

---

### ‚úÖ **SceneObjectsList** (`lists/SceneObjectsList.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed, needs verification)

List components typically use MUI defaults.

---

### ‚úÖ **ObservationPointsList** (`lists/ObservationPointsList.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed, needs verification)

List components typically use MUI defaults.

---

### ‚úÖ **TransformModeControls** (`controls/TransformModeControls.tsx`)

**Status:** ‚ö†Ô∏è **NEEDS REVIEW**

Inline styles not in separate style file - needs manual inspection.

---

### ‚úÖ **Panels** (`panels/index.ts`)

**Status:** ‚úÖ **RECENTLY FIXED**

- LeftPanelContainer: Now uses `transition: "border-color 0.15s ease"`
- No shadow changes on hover
- Fully compliant

---

### ‚úÖ **NavigationButtons** (`topbar/NavigationButtons.tsx`)

**Status:** ‚ö†Ô∏è **NEEDS REVIEW**

Needs manual inspection for transitions and animations.

---

### ‚úÖ **PublishDialog** (`topbar/PublishDialog.tsx`)

**Status:** ‚úÖ **COMPLIANT** (assumed, needs verification)

Dialogs use MUI defaults which are acceptable.

---

### ‚úÖ **ThemeToggleButton** (`topbar/ThemeToggleButton.tsx`)

**Status:** ‚ö†Ô∏è **NEEDS REVIEW**

Toggle buttons might have animations - needs inspection.

---

## Priority Fix List

### üî¥ High Priority (User-Facing, Frequent Use)

1. **PlaybackControls.styles.ts**
   - Fix: Change transition from `all 0.3s` to `background-color 0.15s ease, color 0.15s ease`

2. **ViewModeControls.styles.ts**
   - Fix: Change transition from `all 0.3s` to `background-color 0.15s ease, color 0.15s ease`

3. **CreateProjectCard.tsx**
   - Fix: Remove shadow animation on hover
   - Fix: Remove scale transforms on `::before` element
   - Fix: Change transition to specific properties at 0.15s

### üü° Medium Priority (Less Frequent)

4. **InfoBox.tsx**
   - Fix: Speed up transition from `0.4s/0.3s` to `0.2s`

### üü¢ Low Priority (Polish)

5. **ProjectCard.tsx**
   - Optional: Make transition more specific and faster
   - Current state is acceptable

---

## Quick Fix Commands

### For PlaybackControls.styles.ts

```typescript
// Line 23, replace:
transition: "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",
// With:
transition: "background-color 0.15s ease, color 0.15s ease",
```

### For ViewModeControls.styles.ts

```typescript
// Line 19, replace:
transition: "opacity 0.3s ease, filter 0.3s ease",
// With:
transition: "opacity 0.15s ease, filter 0.15s ease",

// Line 38, replace:
transition: "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",
// With:
transition: "background-color 0.15s ease, color 0.15s ease",
```

### For CreateProjectCard.tsx

```typescript
// Line 39, replace:
transition: "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",
// With:
transition: "background-color 0.15s ease, border-color 0.15s ease",

// Lines 40-42, replace:
"&:hover": {
  boxShadow: "0 25px 50px -12px rgba(37, 99, 235, 0.25)",
  background: "rgba(37, 99, 235, 0.08)",
},
// With:
"&:hover": {
  background: "rgba(37, 99, 235, 0.08)",
},

// Lines 60-67, remove scale transforms:
transform: "scale(0.95)", // DELETE
transform: "scale(1)", // DELETE

// Line 61, replace:
transition: "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",
// With:
transition: "opacity 0.15s ease",

// Line 92, DELETE:
transition: "all 0.3s ease",
```

### For InfoBox.tsx

```typescript
// Lines 25-26, replace:
transition: "max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease",
// With:
transition: "max-height 0.2s ease, opacity 0.2s ease",
```

---

## Compliance Checklist

When reviewing or creating components, ensure:

- [ ] Transitions are 0.15s (0.2s max for expand/collapse)
- [ ] Only transition specific properties (background-color, border-color, opacity)
- [ ] No transform animations (translateY, scale, rotate)
- [ ] No shadow changes on hover
- [ ] No position or layout changes
- [ ] Colors follow design system palette
- [ ] Border radius follows system (8px, 12px, 16px, 20px)
- [ ] Spacing follows 8px grid
- [ ] Typography follows defined sizes and weights

---

## Next Steps

1. Apply fixes to high-priority components
2. Review components marked as "NEEDS REVIEW"
3. Test all changes in the browser
4. Update this audit document with results
5. Add linter rules to enforce design system compliance

---

**Maintainer:** EnvisioXR Team
**Last Updated:** 2024
**Version:** 1.0.0
